<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Programm>
    <DeclNode>
        <FuncDeclNode Type="VOID">
            <IdentifierExpression>stampaMenu</IdentifierExpression>
            <Body>
                <Writeln>
                    <StringConstant>Che operazione vuoi eseguire</StringConstant>
                </Writeln>
                <Writeln>
                    <StringConstant>2 - Somma</StringConstant>
                </Writeln>
                <Writeln>
                    <StringConstant>3 - Sottrazione</StringConstant>
                </Writeln>
                <Writeln>
                    <StringConstant>4 - Moltiplicazione</StringConstant>
                </Writeln>
                <Writeln>
                    <StringConstant>5 - Divisione</StringConstant>
                </Writeln>
            </Body>
        </FuncDeclNode>
        <FuncDeclNode Type="FLOAT">
            <IdentifierExpression>somma</IdentifierExpression>
            <ParamDecl>
                <Type-in>FLOAT</Type-in>
                <IdentifierExpression>a</IdentifierExpression>
                <IdentifierExpression>b</IdentifierExpression>
            </ParamDecl>
            <ParamDecl>
                <Type-out>FLOAT</Type-out>
                <IdentifierExpression>result</IdentifierExpression>
            </ParamDecl>
            <Body>
                <VarDeclNode>
                    <Type>INTEGER</Type>
                    <IdInitNode>
                        <IdentifierExpression>plal</IdentifierExpression>
                        <IntegerConstant>2</IntegerConstant>
                    </IdInitNode>
                    <IdInitNode>
                        <IdentifierExpression>x</IdentifierExpression>
                        <IntegerConstant>3</IntegerConstant>
                    </IdInitNode>
                </VarDeclNode>
                <VarDeclNode>
                    <Type>FLOAT</Type>
                    <IdInitNode>
                        <IdentifierExpression>l</IdentifierExpression>
                    </IdInitNode>
                    <IdInitNode>
                        <IdentifierExpression>ldl</IdentifierExpression>
                    </IdInitNode>
                    <IdInitNode>
                        <IdentifierExpression>wdw</IdentifierExpression>
                    </IdInitNode>
                </VarDeclNode>
                <VarDeclNode>
                    <Type>FLOAT</Type>
                    <IdInitNode>
                        <IdentifierExpression>ez</IdentifierExpression>
                    </IdInitNode>
                </VarDeclNode>
                <AssignStat>
                    <IdentifierExpression>result</IdentifierExpression>
                    <BinaryExpression>
                        <IdentifierExpression>a</IdentifierExpression>
                        <Operation>PLUS</Operation>
                        <IdentifierExpression>b</IdentifierExpression>
                    </BinaryExpression>
                </AssignStat>
                <ReturnStat>
                    <RealConstant>2.2</RealConstant>
                </ReturnStat>
            </Body>
        </FuncDeclNode>
        <FuncDeclNode Type="VOID">
            <IdentifierExpression>sottrai</IdentifierExpression>
            <ParamDecl>
                <Type-in>FLOAT</Type-in>
                <IdentifierExpression>a</IdentifierExpression>
                <IdentifierExpression>b</IdentifierExpression>
            </ParamDecl>
            <ParamDecl>
                <Type-out>FLOAT</Type-out>
                <IdentifierExpression>result</IdentifierExpression>
            </ParamDecl>
            <Body>
                <AssignStat>
                    <IdentifierExpression>result</IdentifierExpression>
                    <BinaryExpression>
                        <IdentifierExpression>a</IdentifierExpression>
                        <Operation>MINUS</Operation>
                        <IdentifierExpression>b</IdentifierExpression>
                    </BinaryExpression>
                </AssignStat>
            </Body>
        </FuncDeclNode>
        <FuncDeclNode Type="VOID">
            <IdentifierExpression>moltiplica</IdentifierExpression>
            <ParamDecl>
                <Type-in>FLOAT</Type-in>
                <IdentifierExpression>a</IdentifierExpression>
                <IdentifierExpression>b</IdentifierExpression>
            </ParamDecl>
            <ParamDecl>
                <Type-out>FLOAT</Type-out>
                <IdentifierExpression>result</IdentifierExpression>
            </ParamDecl>
            <Body>
                <AssignStat>
                    <IdentifierExpression>result</IdentifierExpression>
                    <BinaryExpression>
                        <IdentifierExpression>a</IdentifierExpression>
                        <Operation>TIMES</Operation>
                        <IdentifierExpression>b</IdentifierExpression>
                    </BinaryExpression>
                </AssignStat>
            </Body>
        </FuncDeclNode>
        <FuncDeclNode Type="BOOL">
            <IdentifierExpression>dividi</IdentifierExpression>
            <ParamDecl>
                <Type-in>FLOAT</Type-in>
                <IdentifierExpression>a</IdentifierExpression>
                <IdentifierExpression>b</IdentifierExpression>
            </ParamDecl>
            <ParamDecl>
                <Type-out>FLOAT</Type-out>
                <IdentifierExpression>result</IdentifierExpression>
            </ParamDecl>
            <Body>
                <IfStat>
                    <BinaryExpression>
                        <IdentifierExpression>b</IdentifierExpression>
                        <Operation>EQ</Operation>
                        <IntegerConstant>0</IntegerConstant>
                    </BinaryExpression>
                    <Body>
                        <AssignStat>
                            <IdentifierExpression>result</IdentifierExpression>
                            <IntegerConstant>0</IntegerConstant>
                        </AssignStat>
                        <ReturnStat>
                            <BooleanConstant>false</BooleanConstant>
                        </ReturnStat>
                    </Body>
                    <ElseStat>
                        <Body>
                            <AssignStat>
                                <IdentifierExpression>result</IdentifierExpression>
                                <BinaryExpression>
                                    <IdentifierExpression>a</IdentifierExpression>
                                    <Operation>DIV</Operation>
                                    <IdentifierExpression>b</IdentifierExpression>
                                </BinaryExpression>
                            </AssignStat>
                            <ReturnStat>
                                <BooleanConstant>true</BooleanConstant>
                            </ReturnStat>
                        </Body>
                    </ElseStat>
                </IfStat>
            </Body>
        </FuncDeclNode>
    </DeclNode>
    <Main>
        <FuncDeclNode Type="INTEGER">
            <IdentifierExpression>main</IdentifierExpression>
            <Body>
                <VarDeclNode>
                    <Type>INTEGER</Type>
                    <IdInitNode>
                        <IdentifierExpression>sceltaOp</IdentifierExpression>
                    </IdInitNode>
                    <IdInitNode>
                        <IdentifierExpression>continuaScelta</IdentifierExpression>
                        <IntegerConstant>1</IntegerConstant>
                    </IdInitNode>
                </VarDeclNode>
                <VarDeclNode>
                    <Type>FLOAT</Type>
                    <IdInitNode>
                        <IdentifierExpression>result</IdentifierExpression>
                    </IdInitNode>
                    <IdInitNode>
                        <IdentifierExpression>num1</IdentifierExpression>
                        <IntegerConstant>0</IntegerConstant>
                    </IdInitNode>
                </VarDeclNode>
                <VarDeclNode>
                    <Type>VAR</Type>
                    <IdInitObbNode>
                        <IdentifierExpression>num2</IdentifierExpression>
                        <RealConstant>0.0</RealConstant>
                    </IdInitObbNode>
                </VarDeclNode>
                <VarDeclNode>
                    <Type>VAR</Type>
                    <IdInitObbNode>
                        <IdentifierExpression>ciao</IdentifierExpression>
                        <StringConstant>CISIDIIDI</StringConstant>
                    </IdInitObbNode>
                </VarDeclNode>
                <VarDeclNode>
                    <Type>INTEGER</Type>
                    <IdInitNode>
                        <IdentifierExpression>casa</IdentifierExpression>
                        <BinaryExpression>
                            <IntegerConstant>2</IntegerConstant>
                            <Operation>PLUS</Operation>
                            <BinaryExpression>
                                <IntegerConstant>2</IntegerConstant>
                                <Operation>PLUS</Operation>
                                <BinaryExpression>
                                    <RealConstant>2.2</RealConstant>
                                    <Operation>TIMES</Operation>
                                    <BinaryExpression>
                                        <IntegerConstant>2</IntegerConstant>
                                        <Operation>DIV</Operation>
                                        <UnaryExpression>
                                            <Operation>MINUS</Operation>
                                            <IntegerConstant>1</IntegerConstant>
                                        </UnaryExpression>
                                    </BinaryExpression>
                                </BinaryExpression>
                            </BinaryExpression>
                        </BinaryExpression>
                    </IdInitNode>
                </VarDeclNode>
                <FunCallStat>
                    <IdentifierExpression>stampaMenu</IdentifierExpression>
                </FunCallStat>
                <ReadStat>
                    <StringConstant>Scegli l'operazione da effettuare</StringConstant>
                    <IdentifierExpression>sceltaOp</IdentifierExpression>
                </ReadStat>
                <WhileStat>
                    <BinaryExpression>
                        <BinaryExpression>
                            <IdentifierExpression>continuaScelta</IdentifierExpression>
                            <Operation>NE</Operation>
                            <IntegerConstant>0</IntegerConstant>
                        </BinaryExpression>
                        <Operation>AND</Operation>
                        <BinaryExpression>
                            <BinaryExpression>
                                <IdentifierExpression>sceltaOp</IdentifierExpression>
                                <Operation>GT</Operation>
                                <IntegerConstant>1</IntegerConstant>
                            </BinaryExpression>
                            <Operation>AND</Operation>
                            <BinaryExpression>
                                <IdentifierExpression>sceltaOp</IdentifierExpression>
                                <Operation>LT</Operation>
                                <IntegerConstant>6</IntegerConstant>
                            </BinaryExpression>
                        </BinaryExpression>
                    </BinaryExpression>
                    <Body>
                        <ReadStat>
                            <StringConstant>Inserisci il primo numero</StringConstant>
                            <IdentifierExpression>num1</IdentifierExpression>
                        </ReadStat>
                        <ReadStat>
                            <StringConstant>Inserisci il secondo numero</StringConstant>
                            <IdentifierExpression>num2</IdentifierExpression>
                        </ReadStat>
                        <IfStat>
                            <BinaryExpression>
                                <IdentifierExpression>sceltaOp</IdentifierExpression>
                                <Operation>EQ</Operation>
                                <IntegerConstant>2</IntegerConstant>
                            </BinaryExpression>
                            <Body>
                                <FunCallStat>
                                    <IdentifierExpression>somma</IdentifierExpression>
                                    <IdentifierExpression>num1</IdentifierExpression>
                                    <IdentifierExpression>num2</IdentifierExpression>
                                    <IdentifierExpression>result</IdentifierExpression>
                                </FunCallStat>
                            </Body>
                        </IfStat>
                        <IfStat>
                            <BinaryExpression>
                                <IdentifierExpression>sceltaOp</IdentifierExpression>
                                <Operation>EQ</Operation>
                                <IntegerConstant>3</IntegerConstant>
                            </BinaryExpression>
                            <Body>
                                <FunCallStat>
                                    <IdentifierExpression>sottrai</IdentifierExpression>
                                    <IdentifierExpression>num1</IdentifierExpression>
                                    <IdentifierExpression>num2</IdentifierExpression>
                                    <IdentifierExpression>result</IdentifierExpression>
                                </FunCallStat>
                            </Body>
                        </IfStat>
                        <IfStat>
                            <BinaryExpression>
                                <IdentifierExpression>sceltaOp</IdentifierExpression>
                                <Operation>EQ</Operation>
                                <IntegerConstant>4</IntegerConstant>
                            </BinaryExpression>
                            <Body>
                                <FunCallStat>
                                    <IdentifierExpression>moltiplica</IdentifierExpression>
                                    <IdentifierExpression>num1</IdentifierExpression>
                                    <IdentifierExpression>num2</IdentifierExpression>
                                    <IdentifierExpression>result</IdentifierExpression>
                                </FunCallStat>
                            </Body>
                        </IfStat>
                        <IfStat>
                            <BinaryExpression>
                                <IdentifierExpression>sceltaOp</IdentifierExpression>
                                <Operation>EQ</Operation>
                                <IntegerConstant>5</IntegerConstant>
                            </BinaryExpression>
                            <Body>
                                <IfStat>
                                    <UnaryExpression>
                                        <Operation>NOT</Operation>
                                        <FunCallExpr>
                                            <IdentifierExpression>dividi</IdentifierExpression>
                                            <IdentifierExpression>num1</IdentifierExpression>
                                            <IdentifierExpression>num2</IdentifierExpression>
                                            <IdentifierExpression>result</IdentifierExpression>
                                        </FunCallExpr>
                                    </UnaryExpression>
                                    <Body>
                                        <Write>
                                            <StringConstant>Errore operazione di divisione non effettuabile!!!</StringConstant>
                                        </Write>
                                    </Body>
                                </IfStat>
                            </Body>
                        </IfStat>
                        <Write>
                            <StringConstant>Il risultato dell'operazione scelta tra </StringConstant>
                            <IdentifierExpression>num1</IdentifierExpression>
                            <IdentifierExpression>num2</IdentifierExpression>
                            <StringConstant>è</StringConstant>
                            <IdentifierExpression>result</IdentifierExpression>
                        </Write>
                        <ReadStat>
                            <StringConstant>Vuoi continuare? (0: NO, 1: SI)</StringConstant>
                            <IdentifierExpression>continuaScelta</IdentifierExpression>
                        </ReadStat>
                        <WhileStat>
                            <BinaryExpression>
                                <BinaryExpression>
                                    <IdentifierExpression>continuaScelta</IdentifierExpression>
                                    <Operation>NE</Operation>
                                    <IntegerConstant>0</IntegerConstant>
                                </BinaryExpression>
                                <Operation>AND</Operation>
                                <BinaryExpression>
                                    <IdentifierExpression>continuaScelta</IdentifierExpression>
                                    <Operation>NE</Operation>
                                    <IntegerConstant>1</IntegerConstant>
                                </BinaryExpression>
                            </BinaryExpression>
                            <Body>
                                <ReadStat>
                                    <StringConstant>Inserire 0 per terminare, 1 per continuare!</StringConstant>
                                    <IdentifierExpression>continuaScelta</IdentifierExpression>
                                </ReadStat>
                            </Body>
                        </WhileStat>
                        <IfStat>
                            <BinaryExpression>
                                <IdentifierExpression>continuaScelta</IdentifierExpression>
                                <Operation>EQ</Operation>
                                <IntegerConstant>1</IntegerConstant>
                            </BinaryExpression>
                            <Body>
                                <FunCallStat>
                                    <IdentifierExpression>stampaMenu</IdentifierExpression>
                                </FunCallStat>
                                <ReadStat>
                                    <StringConstant>Scegli loperazione da effettuare</StringConstant>
                                    <IdentifierExpression>sceltaOp</IdentifierExpression>
                                </ReadStat>
                            </Body>
                        </IfStat>
                    </Body>
                </WhileStat>
            </Body>
        </FuncDeclNode>
    </Main>
</Programm>
